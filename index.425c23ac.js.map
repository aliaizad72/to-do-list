{"mappings":"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","sources":["<anon>","src/index.js","src/todo.js","src/project.js"],"sourcesContent":["class $43eb7b9bae1b879f$export$2e2bcd8739ae039 {\n    static id = 0;\n    constructor(title, description, dueDate, priority){\n        this.id = $43eb7b9bae1b879f$export$2e2bcd8739ae039.id++;\n        this.title = title;\n        this.description = description;\n        this.dueDate = dueDate;\n        this.priority = priority ? priority : \"0\";\n    }\n    isValid() {\n        return this.title && this.dueDate;\n    }\n    toJSON() {\n        return {\n            id: this.id,\n            title: this.title,\n            description: this.description,\n            dueDate: this.dueDate,\n            priority: this.priority\n        };\n    }\n}\n\n\nclass $88e97967fa899b2f$export$2e2bcd8739ae039 {\n    static id = 0;\n    constructor(name){\n        this.id = $88e97967fa899b2f$export$2e2bcd8739ae039.id++;\n        this.name = name;\n        this.todos = [];\n    }\n    isValid() {\n        return Boolean(this.name);\n    }\n    addTodo(todo) {\n        this.todos.push(todo);\n    }\n    removeTodo(todoId) {\n        this.todos.splice(this.todos.findIndex((todo)=>todo.id == todoId), 1);\n    }\n    toJSON() {\n        return {\n            id: this.id,\n            name: this.name,\n            todos: this.todos.map((todo)=>JSON.stringify(todo))\n        };\n    }\n    static deserialize(string) {\n        return Object.assign(JSON.parse(string), {\n            addTodo: function addTodo(todo) {\n                this.todos.push(todo);\n            },\n            removeTodo: function removeTodo(todoId) {\n                this.todos.splice(this.todos.findIndex((todo)=>todo.id == todoId), 1);\n            }\n        });\n    }\n}\n\n\nlet $35da740d59af89ba$var$projects;\nconst $35da740d59af89ba$var$todosubmit = document.getElementById(\"todosubmit\");\nconst $35da740d59af89ba$var$projectsubmit = document.getElementById(\"projectsubmit\");\nconst $35da740d59af89ba$var$projectOptions = document.querySelector(\"select\");\ndocument.getElementById(\"opentaskform\").addEventListener(\"click\", $35da740d59af89ba$var$toggleTodoForm);\ndocument.getElementById(\"closeform\").addEventListener(\"click\", $35da740d59af89ba$var$toggleTodoForm);\ndocument.getElementById(\"openprojectform\").addEventListener(\"click\", (e)=>$35da740d59af89ba$var$toggleProjectForm(e));\ndocument.getElementById(\"closeprojectform\").addEventListener(\"click\", (e)=>$35da740d59af89ba$var$toggleProjectForm(e));\n$35da740d59af89ba$var$todosubmit.addEventListener(\"click\", (e)=>$35da740d59af89ba$var$createTodo(e));\n$35da740d59af89ba$var$projectsubmit.addEventListener(\"click\", (e)=>$35da740d59af89ba$var$createProject(e));\n$35da740d59af89ba$var$projectOptions.addEventListener(\"change\", ()=>$35da740d59af89ba$var$loadProject());\nfunction $35da740d59af89ba$var$createTodo(event) {\n    event.preventDefault();\n    const newTodo = new (0, $43eb7b9bae1b879f$export$2e2bcd8739ae039)(document.getElementById(\"title\").value, document.getElementById(\"description\").value, document.getElementById(\"duedate\").value, document.getElementById(\"priority\").value);\n    const currentProject = $35da740d59af89ba$var$getCurrentProject(event);\n    if (newTodo.isValid()) {\n        currentProject.addTodo(newTodo);\n        $35da740d59af89ba$var$saveProjects();\n        $35da740d59af89ba$var$createTodoDiv(newTodo);\n    } else alert(\"Please fill in the title and due date!\");\n}\nfunction $35da740d59af89ba$var$createTodoDiv(todo) {\n    const div = document.createElement(\"div\");\n    const titleDiv = document.createElement(\"div\");\n    const title = document.createElement(\"h4\");\n    const priority = document.createElement(\"p\");\n    const description = document.createElement(\"p\");\n    const dueDate = document.createElement(\"p\");\n    div.classList.add(...\"flex flex-col m-3 p-3 bg-white border border-gray-200 rounded-lg shadow text-lg gap-1\".split(\" \"));\n    titleDiv.classList.add(...\"flex gap-2 items-center\".split(\" \"));\n    title.textContent = todo.title;\n    title.classList.add(\"font-medium\");\n    priority.textContent = todo.priority;\n    priority.classList.add(...\"text-sm bg-red-100\".split(\" \"));\n    titleDiv.appendChild(title);\n    titleDiv.appendChild(priority);\n    description.textContent = todo.description;\n    const options = {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n    };\n    dueDate.textContent = \"Due by: \" + new Date(todo.dueDate).toLocaleString(\"en-GB\", options);\n    dueDate.classList.add(\"text-sm\");\n    const statusDiv = document.createElement(\"div\");\n    statusDiv.classList.add(...\"flex gap-2 items-center\".split(\" \"));\n    const completeBtn = document.createElement(\"button\");\n    const deleteBtn = document.createElement(\"button\");\n    completeBtn.textContent = \"Complete\";\n    deleteBtn.textContent = \"Delete\";\n    completeBtn.classList.add(...\"text-sm hover:text-blue-700\".split(\" \"));\n    deleteBtn.classList.add(...\"text-sm hover:text-blue-700\".split(\" \"));\n    completeBtn.addEventListener(\"click\", (e)=>$35da740d59af89ba$var$deleteTodo(e));\n    deleteBtn.addEventListener(\"click\", (e)=>$35da740d59af89ba$var$deleteTodo(e));\n    statusDiv.appendChild(completeBtn);\n    statusDiv.appendChild(deleteBtn);\n    div.classList.add(\"todo\");\n    div.setAttribute(\"data-todo-id\", todo.id);\n    div.appendChild(titleDiv);\n    div.appendChild(description);\n    div.appendChild(dueDate);\n    div.appendChild(statusDiv);\n    document.getElementById(\"todos\").appendChild(div);\n}\nfunction $35da740d59af89ba$var$deleteTodo(e) {\n    $35da740d59af89ba$var$getCurrentProject().removeTodo(e.target.parentElement.parentElement.dataset.todoId);\n    $35da740d59af89ba$var$saveProjects();\n    e.target.parentElement.parentElement.remove();\n}\nfunction $35da740d59af89ba$var$toggleTodoForm() {\n    document.getElementById(\"form\").classList.toggle(\"hidden\");\n    document.getElementById(\"opentaskform\").classList.toggle(\"hidden\");\n}\nfunction $35da740d59af89ba$var$toggleProjectForm(e) {\n    e.preventDefault();\n    document.getElementById(\"projectform\").classList.toggle(\"hidden\");\n    document.getElementById(\"openprojectform\").classList.toggle(\"hidden\");\n}\nfunction $35da740d59af89ba$var$setDefaultProject() {\n    $35da740d59af89ba$var$projects.push(new (0, $88e97967fa899b2f$export$2e2bcd8739ae039)(\"Project 0\"));\n}\nfunction $35da740d59af89ba$var$addProjectsToSelect() {\n    $35da740d59af89ba$var$clearSelectedProject();\n    $35da740d59af89ba$var$projects.forEach((project)=>{\n        const option = document.createElement(\"option\");\n        option.textContent = project.name;\n        option.value = project.name;\n        option.setAttribute(\"id\", project.name);\n        document.getElementById(\"projects\").appendChild(option);\n    });\n}\nfunction $35da740d59af89ba$var$clearProjectsSelects() {\n    const projects = document.getElementById(\"projects\");\n    while(projects.lastChild)projects.lastChild.remove();\n}\nfunction $35da740d59af89ba$var$clearSelectedProject() {\n    for (const project of document.getElementById(\"projects\").children)project.setAttribute(\"selected\", false);\n}\nfunction $35da740d59af89ba$var$selectProject(project) {\n    document.getElementById(project.name).setAttribute(\"selected\", true);\n}\nfunction $35da740d59af89ba$var$createProject(event) {\n    event.preventDefault();\n    const newProject = new (0, $88e97967fa899b2f$export$2e2bcd8739ae039)(document.getElementById(\"project-name\").value);\n    if (newProject.isValid()) {\n        $35da740d59af89ba$var$projects.push(newProject);\n        $35da740d59af89ba$var$saveProjects();\n        $35da740d59af89ba$var$clearProjectsSelects();\n        $35da740d59af89ba$var$addProjectsToSelect();\n        $35da740d59af89ba$var$selectProject(newProject);\n    } else alert(\"Projects must have a name!\");\n    $35da740d59af89ba$var$loadProject();\n}\nfunction $35da740d59af89ba$var$setDefaultTodo(project) {\n    const newTodo = new (0, $43eb7b9bae1b879f$export$2e2bcd8739ae039)(\"Title\", \"Description\", \"Mon Oct 14 2024 18:54:23 GMT+0800 (Malaysia Time)\", \"1\");\n    project.addTodo(newTodo);\n}\nfunction $35da740d59af89ba$var$loadTodos(project) {\n    project.todos.forEach((todo)=>$35da740d59af89ba$var$createTodoDiv(todo));\n}\nfunction $35da740d59af89ba$var$getCurrentProject() {\n    return $35da740d59af89ba$var$projects.find((project)=>project.name == document.getElementById(\"projects\").value);\n}\nfunction $35da740d59af89ba$var$loadProject() {\n    $35da740d59af89ba$var$removeTodoDivs();\n    const project = $35da740d59af89ba$var$getCurrentProject();\n    $35da740d59af89ba$var$loadTodos(project);\n}\nfunction $35da740d59af89ba$var$removeTodoDivs() {\n    const todos = [\n        ...document.querySelectorAll(\".todo\")\n    ];\n    todos.forEach((todo)=>todo.remove());\n}\nfunction $35da740d59af89ba$var$serializeProjects() {\n    return JSON.stringify($35da740d59af89ba$var$projects.map((project)=>JSON.stringify(project)));\n}\nfunction $35da740d59af89ba$var$deserializeProjects(string) {\n    const projects = JSON.parse(string);\n    return projects.map((project)=>(0, $88e97967fa899b2f$export$2e2bcd8739ae039).deserialize(project));\n}\nfunction $35da740d59af89ba$var$saveProjects() {\n    localStorage.setItem(\"projects\", $35da740d59af89ba$var$serializeProjects());\n}\nfunction $35da740d59af89ba$var$setProjects() {\n    $35da740d59af89ba$var$projects = localStorage.getItem(\"projects\") ? $35da740d59af89ba$var$deserializeProjects(localStorage.getItem(\"projects\")) : [];\n}\ndocument.body.onload = ()=>{\n    $35da740d59af89ba$var$setProjects();\n    if ($35da740d59af89ba$var$projects.length === 0) {\n        $35da740d59af89ba$var$setDefaultProject();\n        $35da740d59af89ba$var$setDefaultTodo($35da740d59af89ba$var$projects[0]);\n    }\n    $35da740d59af89ba$var$addProjectsToSelect();\n    $35da740d59af89ba$var$loadProject();\n};\n\n\n//# sourceMappingURL=index.425c23ac.js.map\n","import Todo from \"./todo\";\nimport Project from \"./project\"\n\nlet projects;\nconst todosubmit = document.getElementById(\"todosubmit\");\nconst projectsubmit = document.getElementById(\"projectsubmit\");\nconst projectOptions = document.querySelector(\"select\");\n\ndocument.getElementById(\"opentaskform\").addEventListener(\"click\", toggleTodoForm);\ndocument.getElementById(\"closeform\").addEventListener(\"click\", toggleTodoForm);\ndocument.getElementById(\"openprojectform\").addEventListener(\"click\", (e)=> toggleProjectForm(e));\ndocument.getElementById(\"closeprojectform\").addEventListener(\"click\", (e)=> toggleProjectForm(e));\n\ntodosubmit.addEventListener(\"click\", (e) => createTodo(e));\nprojectsubmit.addEventListener(\"click\", (e) => createProject(e));\n\nprojectOptions.addEventListener(\"change\", () => loadProject())\n\nfunction createTodo(event) {\n  event.preventDefault();\n\n  const newTodo = new Todo(\n    document.getElementById(\"title\").value, \n    document.getElementById(\"description\").value, \n    document.getElementById(\"duedate\").value, \n    document.getElementById(\"priority\").value\n  )\n\n  const currentProject = getCurrentProject(event);\n\n  if(newTodo.isValid()) {;\n    currentProject.addTodo(newTodo);\n    saveProjects();\n    createTodoDiv(newTodo);\n  } else {\n    alert(\"Please fill in the title and due date!\");\n  }\n}\n\nfunction createTodoDiv(todo) {\n  const div = document.createElement(\"div\");\n  const titleDiv = document.createElement(\"div\");\n  const title = document.createElement(\"h4\");\n  const priority = document.createElement(\"p\");\n  const description = document.createElement(\"p\");\n  const dueDate = document.createElement(\"p\");\n\n  div.classList.add(...\"flex flex-col m-3 p-3 bg-white border border-gray-200 rounded-lg shadow text-lg gap-1\".split(\" \"));\n\n  titleDiv.classList.add(...\"flex gap-2 items-center\".split(\" \"));\n\n  title.textContent = todo.title;\n  title.classList.add(\"font-medium\");\n\n  priority.textContent = todo.priority\n  priority.classList.add(...\"text-sm bg-red-100\".split(\" \"));\n\n  titleDiv.appendChild(title);\n  titleDiv.appendChild(priority);\n\n  description.textContent = todo.description;\n\n  const options = {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n  }\n\n  dueDate.textContent = \"Due by: \" + new Date(todo.dueDate).toLocaleString('en-GB', options);\n  dueDate.classList.add(\"text-sm\");\n\n  const statusDiv = document.createElement(\"div\");\n  statusDiv.classList.add(...\"flex gap-2 items-center\".split(\" \"));\n\n  const completeBtn = document.createElement(\"button\");\n  const deleteBtn = document.createElement(\"button\");\n  completeBtn.textContent = \"Complete\";\n  deleteBtn.textContent = \"Delete\";\n  completeBtn.classList.add(...\"text-sm hover:text-blue-700\".split(\" \"));\n  deleteBtn.classList.add(...\"text-sm hover:text-blue-700\".split(\" \"));\n  completeBtn.addEventListener(\"click\", (e) => deleteTodo(e));\n  deleteBtn.addEventListener(\"click\", (e) => deleteTodo(e));\n\n  statusDiv.appendChild(completeBtn);\n  statusDiv.appendChild(deleteBtn);\n  \n  div.classList.add(\"todo\");\n  div.setAttribute(\"data-todo-id\", todo.id)\n  div.appendChild(titleDiv);\n  div.appendChild(description);\n  div.appendChild(dueDate);\n  div.appendChild(statusDiv);\n  document.getElementById(\"todos\").appendChild(div);\n}\n\nfunction deleteTodo(e) {\n  getCurrentProject().removeTodo(e.target.parentElement.parentElement.dataset.todoId);\n  saveProjects();\n  e.target.parentElement.parentElement.remove();\n}\n\nfunction toggleTodoForm() {\n  document.getElementById(\"form\").classList.toggle(\"hidden\");\n  document.getElementById(\"opentaskform\").classList.toggle(\"hidden\");\n}\n\nfunction toggleProjectForm(e) {;\n  e.preventDefault();\n  document.getElementById(\"projectform\").classList.toggle(\"hidden\");\n  document.getElementById(\"openprojectform\").classList.toggle(\"hidden\");\n}\n\nfunction setDefaultProject() {\n  projects.push(new Project(\"Project 0\"))\n}\n\nfunction addProjectsToSelect() {\n  clearSelectedProject();\n  projects.forEach((project) => {\n    const option = document.createElement(\"option\");\n    option.textContent = project.name;\n    option.value = project.name;\n    option.setAttribute(\"id\", project.name)\n\n    document.getElementById(\"projects\").appendChild(option);\n  })\n}\n\nfunction clearProjectsSelects() {\n  const projects = document.getElementById(\"projects\");\n\n  while (projects.lastChild) {\n    projects.lastChild.remove()\n  }\n}\n\nfunction clearSelectedProject() {\n  for(const project of document.getElementById(\"projects\").children) {\n    project.setAttribute(\"selected\", false);\n  }\n}\n\nfunction selectProject(project) {\n  document.getElementById(project.name).setAttribute(\"selected\", true);\n}\n\nfunction createProject(event) {\n  event.preventDefault();\n\n  const newProject = new Project(document.getElementById(\"project-name\").value)\n\n  if (newProject.isValid()) {\n    projects.push(newProject);\n    saveProjects();\n    clearProjectsSelects();\n    addProjectsToSelect();\n    selectProject(newProject);\n  } else {\n    alert(\"Projects must have a name!\");\n  }\n\n  loadProject();\n}\n\nfunction setDefaultTodo(project) {\n  const newTodo = new Todo(\"Title\", \"Description\", \"Mon Oct 14 2024 18:54:23 GMT+0800 (Malaysia Time)\", \"1\")\n\n  project.addTodo(newTodo)\n}\n\nfunction loadTodos(project) {\n  project.todos.forEach((todo) => createTodoDiv(todo))\n}\n\nfunction getCurrentProject() {\n  return projects.find((project) => project.name == document.getElementById(\"projects\").value)\n}\n\nfunction loadProject() {\n  removeTodoDivs();\n  const project = getCurrentProject();\n  loadTodos(project);\n}\n\nfunction removeTodoDivs() {\n  const todos = [...document.querySelectorAll(\".todo\")];\n  todos.forEach((todo) => todo.remove());\n}\n\nfunction serializeProjects() {\n  return JSON.stringify(projects.map((project) => JSON.stringify(project)));\n}\n\nfunction deserializeProjects(string) {\n  const projects = JSON.parse(string);\n  return projects.map((project) => Project.deserialize(project));\n}\n\nfunction saveProjects() {\n  localStorage.setItem(\"projects\", serializeProjects());\n}\n\nfunction setProjects() {\n  projects = localStorage.getItem(\"projects\")\n    ? deserializeProjects(localStorage.getItem(\"projects\"))\n    : [];\n}\n\ndocument.body.onload = () => {\n  setProjects();\n  if (projects.length === 0) {\n    setDefaultProject();\n    setDefaultTodo(projects[0]);\n  }\n  addProjectsToSelect();\n  loadProject();\n}","export default class Todo {\n  static id = 0;\n\n  constructor(title, description, dueDate, priority) {\n    this.id = Todo.id++;\n    this.title = title;\n    this.description = description;\n    this.dueDate = dueDate;\n    this.priority = priority\n      ? priority\n      : \"0\";\n  }\n\n  isValid() {\n    return this.title && this.dueDate\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      title: this.title,\n      description: this.description,\n      dueDate: this.dueDate,\n      priority: this.priority,\n    }\n  }\n}","export default class Project {\n  static id = 0;\n\n  constructor(name) {\n    this.id = Project.id++;\n    this.name = name;\n    this.todos = [];\n  }\n\n  isValid() {\n    return Boolean(this.name);\n  }\n\n  addTodo(todo) {\n    this.todos.push(todo)\n  }\n\n  removeTodo(todoId) {\n    this.todos.splice(this.todos.findIndex((todo) => todo.id == todoId), 1);\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      name: this.name,\n      todos: this.todos.map((todo) => JSON.stringify(todo)),\n    }\n  }\n\n\n  static deserialize(string) {\n    return Object.assign(JSON.parse(string), {\n      addTodo: function addTodo(todo) { this.todos.push(todo) },\n      removeTodo: function removeTodo(todoId) { this.todos.splice(this.todos.findIndex((todo) => todo.id == todoId), 1) }\n    })\n  }\n}"],"names":["$35da740d59af89ba$var$projects","$43eb7b9bae1b879f$export$2e2bcd8739ae039","id","constructor","title","description","dueDate","priority","isValid","toJSON","$88e97967fa899b2f$export$2e2bcd8739ae039","name","todos","Boolean","addTodo","todo","push","removeTodo","todoId","splice","findIndex","map","JSON","stringify","deserialize","string","Object","assign","parse","$35da740d59af89ba$var$todosubmit","document","getElementById","$35da740d59af89ba$var$projectsubmit","$35da740d59af89ba$var$projectOptions","querySelector","$35da740d59af89ba$var$createTodoDiv","div","createElement","titleDiv","classList","add","split","textContent","appendChild","Date","toLocaleString","weekday","year","month","day","hour","minute","statusDiv","completeBtn","deleteBtn","addEventListener","e","$35da740d59af89ba$var$deleteTodo","setAttribute","$35da740d59af89ba$var$getCurrentProject","target","parentElement","dataset","$35da740d59af89ba$var$saveProjects","remove","$35da740d59af89ba$var$toggleTodoForm","toggle","$35da740d59af89ba$var$toggleProjectForm","preventDefault","$35da740d59af89ba$var$addProjectsToSelect","$35da740d59af89ba$var$clearSelectedProject","project","children","forEach","option","value","find","$35da740d59af89ba$var$loadProject","querySelectorAll","$35da740d59af89ba$var$loadTodos","localStorage","setItem","$35da740d59af89ba$var$createTodo","event","newTodo","currentProject","alert","$35da740d59af89ba$var$createProject","newProject","$35da740d59af89ba$var$clearProjectsSelects","projects","lastChild","$35da740d59af89ba$var$selectProject","body","onload","getItem","length","$35da740d59af89ba$var$setDefaultTodo"],"version":3,"file":"index.425c23ac.js.map"}